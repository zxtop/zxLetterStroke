webpackJsonp([1],{"1T0g":function(t,e,a){"use strict";var s={data:function(){return{resultDate:store.state.resultArr}},mounted:function(){console.log("平台校验结果页出现")}},i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("el-table",{staticClass:"resultTable",staticStyle:{width:"19.2rem",positon:"absolute",left:"50%","margin-left":"-9.6rem",top:"-5rem",padding:"0 1rem"},attrs:{data:this.resultDate}},[e("el-table-column",{staticStyle:{width:"1rem"},attrs:{prop:"id",label:"题号"}}),this._v(" "),e("el-table-column",{staticStyle:{"text-align":"center"},attrs:{prop:"userAnswerContent",label:"你的答案"}}),this._v(" "),e("el-table-column",{attrs:{prop:"rightAnswerContent",label:"正确答案"}}),this._v(" "),e("el-table-column",{attrs:{prop:"isRight",label:"校验结果"}})],1)},staticRenderFns:[]};var n=a("VU/8")(s,i,!1,function(t){a("deUr")},"data-v-288317eb",null);e.a=n.exports},"4qCY":function(t,e){},"6BMs":function(t,e){},"7Q5p":function(t,e){t.exports={title:"字母描红",version:"1.0.2"}},CoWf:function(t,e){},"E/U7":function(t,e){t.exports={port:8083}},E1aE:function(t,e){},FxTI:function(t,e){},HjNh:function(t,e){},IcnI:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("7+uW"),i=a("NYxO"),n=a("meqv");a.n(n);s.default.use(i.a);var o={postAnswer:function(t){var e=t.state;console.log(e.postArr,"整体答题数据"),Object(n.postAnswer)(e.postArr,e.testNum)},defaultPushToPostArr:function(t,e){t.state.postArr.push(e)},pushToPostArr:function(t,e){var a=t.state;console.log(e,"第"+e.id+"道题答题数据"),a.postArr.splice(e.id,1,e)}},l={setIsPost:function(t,e){t.isShow=e,console.log()},setpIsPost:function(t,e){t.pisShow=e}};window.store=new i.a.Store({state:{postArr:[],resultArr:[],pisShow:!1,pShow:!1,goldnum:0,testNum:1,result:[],isShow:!1,tabShowLists:{bgImage:!1,stemImg:!1,subTitle:!1,option:!1,option1:!1},question:null,pageNum:0},actions:o,mutations:l})},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("7+uW"),i=a("50uv"),n=a("cb+Y"),o=a("xIDe");a("IcnI");var l={name:"App",data:function(){return{}},components:{End:n.a,Pend:o.a},computed:{isShow:function(t,e){return store.state.isShow},pisShow:function(t,e){return store.state.pisShow}},mounted:function(){console.log("APP组件加载完成")}},r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view"),this._v(" "),this.$store.state.isShow?e("End"):this._e(),this._v(" "),this.pisShow?e("Pend"):this._e()],1)},staticRenderFns:[]};var c=a("VU/8")(l,r,!1,function(t){a("FxTI")},null,null).exports,u=a("/ocq"),m=a("//Fk"),d=a.n(m),p=(a("88EK"),PIXI.loader);a("IcnI");var h=a("7xcm"),g=a.n(h),v=a("OD72"),f=a.n(v),b=a("f7bW"),_=a.n(b),w=a("meqv"),x=a("Zrlr"),S=a.n(x),D=a("wxAW"),C=a.n(D),y=(a("R5/K"),a("NYxO"),a("Gu7T")),I=a.n(y),B=function(){function t(){S()(this,t),this.open=!0}return C()(t,[{key:"go",value:function(t,e){if(0!==t)for(var a=0,s=e.length;a<s&&(e[a].alpha=1,a!=t);a++);else e[0].alpha=1}},{key:"back",value:function(t,e,a,s){for(a.x=s[0].x,a.y=s[0].y;0===t;t--)e[t].alpha=0}},{key:"fullPen",value:function(t){for(var e=0,a=t.length;e<a;e++)t[e].alpha=1}},{key:"clearPen",value:function(t){for(var e=0,a=t.length;e<a;e++)t[e].alpha=0}}]),t}(),k=function(){function t(e,a){S()(this,t),this.path=e,this.parent=a,this.pen=new B,this.threshold=80,this.isStart=!1,this.isEnd=!1,this.LastPointIndex=0,this.short=20,this.lastIndex=0,this.isUp=!1,this.container=new PIXI.Container,this.parent.addChild(this.container),this.createStartCircle(this.path[0].x,this.path[0].y),this.createPathCircles()}return C()(t,[{key:"createStartCircle",value:function(t,e){this.startC=new PIXI.Sprite.fromImage(res.brush.url),this.startC.anchor.set(.3),this.startC.x=t,this.startC.y=e,this.parent.addChild(this.startC)}},{key:"createPathCircles",value:function(){var t=this;this.path.forEach(function(e){var a=new PIXI.Graphics;a.beginFill(16494651),a.drawCircle(e.x,e.y,50),a.endFill(),a.alpha=0,t.container.addChild(a)})}},{key:"goStep",value:function(t){if("B"==question.sources[store.state.pageNum].letters.text&&(this.threshold=150),this.startC.x=this.path[0].x,this.startC.y=this.path[0].y,this.checkStart(t)){var e=this.getNearestPointInPath(t);console.log(e),e&&this.updateLastPoint(e.index);var a=this.getDistanceP2P(t,this.path[this.lastIndex]);this.checkEnd()||(this.isInTouchArea(a)?(this.pen.go(this.lastIndex,this.container.children),this.startC.x=this.path[this.lastIndex].x,this.startC.y=this.path[this.lastIndex].y):this.goBack())}}},{key:"goBack",value:function(){this.isEnd||(this.isStart=!1,this.pen.back(this.lastIndex,this.container.children,this.startC,this.path),this.lastIndex=0,0==this.lastIndex&&this.pen.clearPen(this.container.children))}},{key:"isInTouchArea",value:function(t){return t<this.threshold}},{key:"checkEnd",value:function(){return this.lastIndex===this.path.length-1&&(this.isEnd=!0,this.startC.x=this.path[this.lastIndex].x,this.startC.y=this.path[this.lastIndex].y,this.pen.fullPen(this.container.children)),this.isEnd}},{key:"updateLastPoint",value:function(t){t>this.lastIndex&&(this.lastIndex=t)}},{key:"getNearestPointInPath",value:function(t){for(var e=99999,a=0,s=0,i=void 0,n=this.lastIndex,o=this.path.length;n<o;n++)if(a=this.getDistanceP2P(t,this.path[n]),console.log(n,"============"),console.log(this.lastIndex),a<e){if(!(n<this.short+this.LastPointIndex))return{p:i,d:e,index:s};e=a,i=this.path[n],s=n,this.LastPointIndex=n}return{p:i,d:e,index:s}}},{key:"getDistanceP2P",value:function(t,e){var a=t.x-e.x,s=t.y-e.y;return Math.pow(a*a+s*s,.5)}},{key:"checkStart",value:function(t){return console.log(this.path),this.getDistanceP2P(t,this.path[0])<this.threshold&&(console.log("sss"),this.isStart=!0),console.log(this.isStart),this.isStart}}]),t}(),T=a("kXIv"),$=function(){function t(e,a,s,i){var n;S()(this,t),this.steps=e,this.stepsPNum=a,this.glueStepsConfig=s,this.glueSteps=[],this.stepCount=-1,this.currentStep=null,this.currentStepLength=0,this.currentStepPointIndex=0,this.parent=i,this.isDone=!1,this.hintHand=new PIXI.Sprite.fromImage(res.hand.url),this.hintHand.alpha=0,this.doneAnimate=(n="animation_main",new PIXI.spine.Spine(res[n].spineData)),this.normalSteps=[],this.TOTimer=null,this.noHandleTime=5,this.isUp=!1,this.init()}return C()(t,[{key:"init",value:function(){var t=this;app.ticker.add(function(){t.currentStepPointIndex++,t.currentStepPointIndex>=t.currentStepLength?t.hintHand.alpha=0:(t.hintHand.alpha=1,t.hintHand.x=t.currentStep.path[t.currentStepPointIndex].x,t.hintHand.y=t.currentStep.path[t.currentStepPointIndex].y)}),this.doneAnimate.position.set(960,540),this.glueStepsConfig.length>0?this.makeGlueStep():this.makeNormalStep(),this.nextStep()}},{key:"nextStep",value:function(){return this.stepCount++,this.glueStepsConfig.length>0?this.stepCount===this.glueStepsConfig.length?(this.isDone=!0,void this.showDoneAnimate()):(this.currentStep=this.glueSteps[this.stepCount],void(this.currentStep&&(this.currentStep.startC.alpha=1,this.startHintTimer()))):this.stepCount===this.steps.length?(this.isDone=!0,void this.showDoneAnimate()):(this.currentStep=this.normalSteps[this.stepCount],void(this.currentStep&&(this.currentStep.startC.alpha=1,this.startHintTimer())))}},{key:"makeNormalStep",value:function(){var t=this;this.steps.forEach(function(e,a){var s=(new(Function.prototype.bind.apply(T,[null].concat(I()(e))))).getLUT(t.stepsPNum[a]),i=new k(s,t.parent);i.startC.alpha=0,t.normalSteps.push(i)})}},{key:"makeGlueStep",value:function(){var t=this;this.glueStepsConfig.forEach(function(e,a){if(e instanceof Array){var s=[];e.forEach(function(e,a){var i=(new(Function.prototype.bind.apply(T,[null].concat(I()(t.steps[e]))))).getLUT(t.stepsPNum[e]);s.push.apply(s,I()(i))});var i=new k(s,t.parent,t.res);i.startC.alpha=0,t.glueSteps.push(i)}else{var n=(new(Function.prototype.bind.apply(T,[null].concat(I()(t.steps[e]))))).getLUT(t.stepsPNum[e]),o=new k(n,t.parent,t.res);o.startC.alpha=0,t.glueSteps.push(o)}})}},{key:"go",value:function(t){this.isDone||(clearInterval(this.TOTimer),this.currentStep.goStep(t))}},{key:"back",value:function(){this.currentStep&&(this.currentStep.goBack(),this.currentStep.isEnd?(console.log(this.isUp),this.isUp&&(this.currentStep.startC.alpha=0,this.nextStep(),this.isUp=!1)):this.startHintTimer())}},{key:"showDoneAnimate",value:function(){this.doneAnimate.state.setAnimation(0,"shou",!0),this.parent.addChild(this.doneAnimate),clearInterval(this.TOTimer)}},{key:"startHintTimer",value:function(){var t=this;clearInterval(this.TOTimer),this.TOTimer=setInterval(function(){t.showHint()},1e3*this.noHandleTime)}},{key:"showHint",value:function(){this.parent.addChild(this.hintHand),this.currentStepPointIndex=0,this.currentStepLength=this.currentStep.path.length-1}}]),t}(),P=function(){function t(){S()(this,t),this.pixiStage=null,this.gameScene=null,this.currentLetterIndex=-1,this.letters=null,this.currentLetter=null,this.lettersQueue=["A","a","B","b","C","c","D","d"],this.lettersRes=["letterA","letter-a","letterB","letter-b","letterC","letter-c","letterD","letter-d"],this.doneRes=["doneA","done-a","doneB","done-b","doneC","done-c","doneD","done-d"],this.container=null,this.isDone=!1,this.lettersId=[{label:"A",num:0},{label:"a",num:1},{label:"B",num:2},{label:"b",num:3},{label:"C",num:4},{label:"c",num:5},{label:"D",num:6},{label:"d",num:7}]}return C()(t,[{key:"exec",value:function(){var t=this;this.init(store.state.pageNum),stage.on("pointerdown",function(e){t.isMove=!0}),stage.on("pointermove",function(e){t.isMove&&(t.go(e.data.global),(e.data.global.y>1080||e.data.global.x>1920||e.data.global.x<0||e.data.global.y<0)&&(e.data.global.y=1070,e.data.global.x=10,t.isMove=!1,t.currentLetter.isUp=!0,t.back()))}),stage.on("pointerup",function(e){t.isMove=!1,t.currentLetter.isUp=!0,t.back()})}},{key:"init",value:function(t){this.pixiStage=stage.children[t],console.log("开始初始化第"+t+"页内容"),this.gameScene=new PIXI.Container,this.pixiStage.addChild(this.gameScene),this.container=new PIXI.Container,this.gameScene.addChild(this.container),this.letters={A:{steps:[[939,265,836,563,736,857],[998,269,1093,571,1183,849],[846,691,966,691,1075,691]],stepPNum:[40,40,20]},B:{steps:[[808,258,808,527,808,840],[810,264,1259,178,1158,586,900,534],[834,537,1280,505,1227,907,868,835]],stepPNum:[60,80,60],glueStepConfig:[0,[1,2]]},C:{steps:[[1140,323,889,120,685,433,776,672],[774,662,803,796,1016,918,1152,737]],stepPNum:[60,80],glueStepConfig:[[0,1]]},D:{steps:[[781,257,777,546,775,810],[789,257,1417,156,1257,1028,773,816]],stepPNum:[60,60]},J:{steps:[[916,117,916,117,916,117.1],[920,247,920,713,920,928,763,765]],stepPNum:[2,100]},a:{steps:[[1070,350,620,268,735,919,1042,732],[1116,358,1116,567,1116,780]],stepPNum:[50,30]},b:{steps:[[813,237,811,511,809,790],[856,543,1255,292,1242,1009,833,814]],stepPNum:[40,80]},c:{steps:[[1076,378,894,222,774,459,809,582],[809,582,843,772,1012,806,1086,690]],stepPNum:[60,80],glueStepConfig:[[0,1]]},d:{steps:[[1063,523,656,374,751,1010,1057,802],[1126,233,1126,566,1126,838]],stepPNum:[80]}},this.start()}},{key:"start",value:function(){this.nextLetter()}},{key:"nextLetter",value:function(){var t=this;if(this.currentLetterIndex++,this.lettersId.map(function(e,a){e.label==question.sources[store.state.pageNum].letters.text&&(t.currentLetterIndex=e.num)}),this.currentLetterIndex>this.lettersQueue.length)this.isDone=!0;else{this.nextLetterBg();var e=this.letters[this.lettersQueue[this.currentLetterIndex]];this.currentLetter=new $(e.steps,e.stepPNum,e.glueStepConfig?e.glueStepConfig:[],this.container)}}},{key:"nextLetterBg",value:function(){this.letterSprite=new PIXI.Sprite.fromImage(res[this.lettersRes[this.currentLetterIndex]].url),this.letterSprite.anchor.set(.5,.5),this.letterSprite.x=app.view.width/2,this.letterSprite.y=app.view.height/2,this.container.addChild(this.letterSprite)}},{key:"go",value:function(t){this.isDone||this.currentLetter.isDone||this.currentLetter.go(t)}},{key:"back",value:function(){var t=this;if(this.currentLetter.back(),this.currentLetter.isDone&&(this.currentLetter.normalSteps.length>0&&this.currentLetter.normalSteps.forEach(function(t){t.container.alpha=0}),this.currentLetter.glueSteps.length>0&&this.currentLetter.glueSteps.forEach(function(t){t.container.alpha=0}),this.letterSprite.texture=res[this.doneRes[this.currentLetterIndex]].texture,console.log(this.currentLetter.currentStep),this.currentLetter.currentStep)){if(!question.sources[store.state.pageNum].audio.show)return;res[question.sources[store.state.pageNum].audio.audio_name].sound.play(),setTimeout(function(){t.currentLetter.hintHand.alpha=0,app.ticker=null;var e=new w.AnswerInfo;e.init({type:0,useranswer:"",answer:"",id:0,rightnum:1,wrongnum:0}),store.dispatch("pushToPostArr",e),store.dispatch("postAnswer")},3e3)}}},{key:"clean",value:function(){this.container.children.forEach(function(t,e){t.destroy()}),this.container.removeChildren()}}]),t}(),N=a("kXIv"),A=function(){function t(e){S()(this,t),this.b2=new N(304,267,434,458,208,709),this.b2_1=new N(1008,530,1092,530,1192,530),this.b3=new N(1076,378,894,222,774,459,809,582),this.b3_1=new N(1241,699,1604,714,1590,981,1237,964),this.parent=e,this.b2Points=[],this.b2_1Points=[],this.b3Points=[],this.b3_1Points=[],this.b2CPs=[],this.b2_1CPs=[],this.b3CPs=[],this.b3_1CPs=[]}return C()(t,[{key:"draw",value:function(){var t=this;this.b2.getLUT(40).forEach(function(e){var a=new PIXI.Graphics;a.beginFill(16777215),a.drawCircle(0,0,10),a.endFill(),a.x=e.x,a.y=e.y,t.b2Points.push(a),t.parent.addChild(a)}),this.b2.points.forEach(function(e){var a=new PIXI.Graphics;a.beginFill(6750054),a.drawCircle(0,0,10),a.endFill(),a.x=e.x,a.y=e.y,a.interactive=!0,a.buttonMode=!0,t.b2CPs.push(a),t.parent.addChild(a)}),this.b2_1.getLUT(40).forEach(function(e){var a=new PIXI.Graphics;a.beginFill(16777215),a.drawCircle(0,0,10),a.endFill(),a.x=e.x,a.y=e.y,t.b2_1Points.push(a),t.parent.addChild(a)}),this.b2_1.points.forEach(function(e){var a=new PIXI.Graphics;a.beginFill(6750054),a.drawCircle(0,0,10),a.endFill(),a.x=e.x,a.y=e.y,a.interactive=!0,a.buttonMode=!0,t.b2_1CPs.push(a),t.parent.addChild(a)}),this.b3.getLUT(40).forEach(function(e){var a=new PIXI.Graphics;a.beginFill(16777215),a.drawCircle(0,0,10),a.endFill(),a.x=e.x,a.y=e.y,t.b3Points.push(a),t.parent.addChild(a)}),this.b3.points.forEach(function(e){var a=new PIXI.Graphics;a.beginFill(6750054),a.drawCircle(0,0,10),a.endFill(),a.x=e.x,a.y=e.y,a.interactive=!0,a.buttonMode=!0,t.b3CPs.push(a),t.parent.addChild(a)}),this.b3_1.getLUT(40).forEach(function(e){var a=new PIXI.Graphics;a.beginFill(16777215),a.drawCircle(0,0,10),a.endFill(),a.x=e.x,a.y=e.y,t.b3_1Points.push(a),t.parent.addChild(a)}),this.b3_1.points.forEach(function(e){var a=new PIXI.Graphics;a.beginFill(6750054),a.drawCircle(0,0,10),a.endFill(),a.x=e.x,a.y=e.y,a.interactive=!0,a.buttonMode=!0,t.b3_1CPs.push(a),t.parent.addChild(a)})}},{key:"bindEvents",value:function(){var t=this;this.b2CPs.forEach(function(e,a){e.on("pointerdown",function(){e.isMove=!0}),e.on("pointermove",function(s){e.isMove&&(e.x=t.b2.points[a].x=s.data.global.x,e.y=t.b2.points[a].y=s.data.global.y,t.update())}),e.on("pointerup",function(a){e.isMove=!1,console.log(t.b2.points)})}),this.b2_1CPs.forEach(function(e,a){e.on("pointerdown",function(){e.isMove=!0}),e.on("pointermove",function(s){e.isMove&&(e.x=t.b2_1.points[a].x=s.data.global.x,e.y=t.b2_1.points[a].y=s.data.global.y,t.update())}),e.on("pointerup",function(a){e.isMove=!1,console.log(t.b2_1.points)})}),this.b3CPs.forEach(function(e,a){e.on("pointerdown",function(){e.isMove=!0}),e.on("pointermove",function(s){e.isMove&&(e.x=t.b3.points[a].x=s.data.global.x,e.y=t.b3.points[a].y=s.data.global.y,t.update())}),e.on("pointerup",function(a){e.isMove=!1,console.log(t.b3.points)})}),this.b3_1CPs.forEach(function(e,a){e.on("pointerdown",function(){e.isMove=!0}),e.on("pointermove",function(s){e.isMove&&(e.x=t.b3_1.points[a].x=s.data.global.x,e.y=t.b3_1.points[a].y=s.data.global.y,t.update())}),e.on("pointerup",function(a){e.isMove=!1,console.log(t.b3_1.points)})})}},{key:"update",value:function(){var t=this;this.b2_1.update(),this.b2_1.getLUT(40).forEach(function(e,a){t.b2_1Points[a].x=e.x,t.b2_1Points[a].y=e.y}),this.b3.update(),this.b3.getLUT(40).forEach(function(e,a){t.b3Points[a].x=e.x,t.b3Points[a].y=e.y}),this.b3_1.update(),this.b3_1.getLUT(40).forEach(function(e,a){t.b3_1Points[a].x=e.x,t.b3_1Points[a].y=e.y})}}]),t}(),E=(a("XJqe"),{name:"start",data:function(){return{isShow:!1,number:0}},methods:{createApp:function(){return new i.Application({width:1920,height:1080,autoSize:!0,transparent:!0})}},components:{},created:function(){document.getElementsByClassName("page-loading")[0].style.display="block"},destroyed:function(){PIXI.sound.stopAll(),app.destroy()},mounted:function(){PIXI.sound.stopAll(),document.getElementsByClassName("page-loading")[0].style.display="block",window.app=this.createApp(),app.view.style.width="19.2rem",app.view.style.height="10.8rem",window.stage=app.stage;this.$refs.canvas.appendChild(app.view),stage.interactive=!0,(window.res?new d.a(function(t,e){console.info(2),t(window.res)}):(console.info(1),new d.a(function(t,e){p.add("question","static/content.json"),p.add("resources","static/resource.json"),p.load(function(){PIXI.loader.resources.resources.data.forEach(function(t){if(p.add(t.key,t.path),t.key.indexOf("image")>-1){var e=new Image;e.src=t.path,e.onerror=function(t){console.log(t),errorArr.unshift(dataAssembling({msg:"Resource not loaded error",url:t.target.src,type:"resourceLoadERROR"}))}}else if(t.key.indexOf("audio")>-1){var a=new Audio;a.src=t.path,a.onerror=function(e){errorArr.unshift(dataAssembling({msg:"Resource not loaded error",url:t.path,type:"resourceLoadERROR"}))}}}),p.load(function(e,a){window.res=a,t(a)}),p.onError.add(function(t){console.log("loader加载错误")}),p.onProgress.add(function(t){document.getElementsByClassName("runner")[0].style.width=6.8*t.progress/100+"rem"}),p.onComplete.add(function(t){})})}))).then(function(t){console.log("%c资源加载完啦✌️","color:#FF323B;font-weight:bold;"),console.log(t),window.question=t.question.data,store.state.question=t.question.data,store.state.testNum=question.sources.length,document.getElementsByClassName("page-loading")[0].style.display="none";var e=new w.AnswerInfo;Object(w.Loading)(),e.answerDefault({type:0,useranswer:""}),Object(w.Question)({id:"0",currentTotalOption:"1"});var a=new g.a(question.one.start,t),s=new P;if(window.question.one.start.show)stage.addChild(a),a.button(function(){stage.removeChild(a);var e=new _.a(question.sources[0].bgImage,question.sources[0].stemImg,t),i=new f.a(question.sources[0].subTitle,t);e.addChild(i),stage.addChild(e),stage.setChildIndex(e,0),s.exec();var n=new PIXI.Graphics;n.drawRect(0,0,app.view.width,app.view.height),n.alpha=.2;var o=new PIXI.Container;o.addChild(n);var l=new A(o);l.draw(),l.bindEvents()});else{var i=new _.a(question.sources[0].bgImage,question.sources[0].stemImg,t),n=new f.a(question.sources[0].subTitle,t);i.addChild(n),stage.addChild(i),s.exec();var o=new PIXI.Graphics;o.drawRect(0,0,app.view.width,app.view.height),o.alpha=.2;var l=new PIXI.Container;l.addChild(o);var r=new A(l);r.draw(),r.bindEvents()}})}}),z={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container"},[e("div",{ref:"canvas",staticClass:"canvas"}),this._v(" "),e("img",{staticClass:"logo",attrs:{src:"static/images/logo.png"}})])},staticRenderFns:[]};var R=a("VU/8")(E,z,!1,function(t){a("E1aE")},null,null).exports,F=a("PK58");s.default.use(F.a),s.default.use(u.a);var L=new u.a({routes:[{path:"/",component:R},{path:"/edit",component:F.a}]}),q=a("zL8q"),O=a.n(q),X=(a("tvR6"),a("WaS4")),M=a.n(X),U=a("mw3O"),H=a.n(U);s.default.config.productionTip=!1,s.default.prototype.$http=M.a,s.default.prototype.qs=H.a,s.default.use(O.a),new s.default({el:"#app",router:L,components:{App:c},store:store,template:"<App/>"})},U0b2:function(t,e){},c4fv:function(t,e,a){"use strict";var s=a("fZjL"),i=a.n(s),n=a("pFYg"),o=a.n(n),l=a("gRE1"),r=a.n(l),c=a("mvHQ"),u=a.n(c),m={name:"EditStart",data:function(){return{showStatus:!1,startData:null,publicImage:null,maskStatus:!1,label:"1",startBgStatus:!0,startBtnStatus:!0,gameBgSoundData:null,resourceData:null,tabShowStatus:{startBg:!1,startBtn:!1,gameBgAudio:!1}}},props:["allData"],methods:{getJSON:function(){var t=this;this.startData=this.allData.one.start,this.gameBgSoundData=this.allData.one.gameBgSound,this.getResourceData(function(){t.showStatus=!0,t.startData.startBtn.image.show?t.label="1":t.startData.startBtn.animate.show?t.label="2":t.startData.startBtn.sprite.show?t.label="3":t.label="1"})},setResource:function(t,e){this.startData[t][e].show||(this.startData[t][e].name="")},getResourceData:function(t){var e=this;this.$http.get("/getResourceJSON",{params:{}}).then(function(a){e.resourceData=a,t&&t()})},startBtn:function(t){r()(this.startData.startBtn).forEach(function(t){t.show=!1,t.name=""}),this.startData.startBtn[t].show=!0},setbgAudioStatus:function(){this.gameBgSoundData.show?this.tabShowStatus.gameBgAudio=!0:(this.gameBgSoundData.audio="",this.gameBgSoundData.animate_name="",this.tabShowStatus.gameBgAudio=!1)},tabShow:function(t,e){var a=this,s=this.$refs[e];this.tabShowStatus[t]?(this.tabShowStatus[t]=!1,s.className="el-icon-arrow-right"):(i()(this.tabShowStatus).forEach(function(t,e){a.tabShowStatus[t]=!1}),this.tabShowStatus[t]=!0,s.className="el-icon-arrow-down",this.gameBgSoundData.show||(this.tabShowStatus.gameBgAudio=!1,s.className="el-icon-arrow-right"))},uploadImage:function(t,e,a){var s=this,i=a.target.files[0].name.split(".")[a.target.files[0].name.split(".").length-1];-1!==["jpg","png"].indexOf(i)?0!==a.target.files.length?this.$http.post("/uploadingImage",{image:a.target.files[0]},{headers:{"Content-Type":"multipart/form-data"}}).then(function(i){s.startData[t][e].name=i.resourceName,"startBg"!==t&&(s.startData[t][e].width=i.width,s.startData[t][e].height=i.height,s.startData[t][e].x=0,s.startData[t][e].y=0),a.target.value="",s.getResourceData()}):this.$message({message:"上传文件个数不符合",type:"warning"}):this.$message({message:"上传类型不符",type:"error"})},uploadAnimation:function(t,e){var a=this;if(0!==e.target.files.length&&3===e.target.files.length){var s={};r()(e.target.files).forEach(function(t,e){s["animation"+(e+1)]=t}),this.$http.post("/uploadingAnimation",s,{headers:{"Content-Type":"multipart/form-data"}}).then(function(s){e.target.value="","gameBgAudio"===t?a.gameBgSoundData.animate_name=s.resourceName:a.startData[t].animate.name=s.resourceName})}else this.$message({message:"上传文件个数不符合",type:"warning"})},uploadSprite:function(t,e){var a=this;if(0!==e.target.files.length&&2===e.target.files.length){var s={};r()(e.target.files).forEach(function(t,e){s["sprite"+(e+1)]=t}),console.log(s),this.$http.post("/uploadingSprite",s,{headers:{"Content-Type":"multipart/form-data"}}).then(function(s){e.target.value="",a.startData[t].sprite.name=s.resourceName})}else this.$message({message:"上传文件个数不符合",type:"warning"})},uploadAudio:function(t){var e=this,a=t.target.files[0].name.split(".")[t.target.files[0].name.split(".").length-1];-1!==["mp3","wav"].indexOf(a)?0!==t.target.files.length?this.$http.post("/uploadingAudio",{audio:t.target.files[0]},{headers:{"Content-Type":"multipart/form-data"}}).then(function(a){t.target.value="",e.gameBgSoundData.audio=a.resourceName}):this.$message({message:"上传文件个数不符合",type:"warning"}):this.$message({message:"上传类型不符",type:"error"})},showBigImage:function(t){this.maskStatus=!0,this.publicImage=t.target.src}},mounted:function(){this.getJSON()}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.showStatus?a("div",{staticClass:"start"},[a("el-switch",{staticStyle:{"margin-left":"15px"},attrs:{"active-color":"#77DC04","active-text":"是否应用","inactive-color":"#ff4949"},model:{value:t.startData.show,callback:function(e){t.$set(t.startData,"show",e)},expression:"startData.show"}}),t._v(" "),t.startData.show?a("div",[a("div",{staticClass:"start-title"},[a("i",{ref:"startBgTitle",class:t.tabShowStatus.startBg?"el-icon-arrow-down":"el-icon-arrow-right",on:{click:function(e){t.tabShow("startBg","startBgTitle")}}}),t._v(" "),a("span",{on:{click:function(e){t.tabShow("startBg","startBgTitle")}}},[t._v("\n                背景图\n            ")])]),t._v(" "),t.tabShowStatus.startBg?a("div",{staticClass:"start-inner"},[a("div",{staticClass:"edit-checkbox-title"},[a("el-checkbox",{attrs:{size:"small"},on:{change:function(e){t.setResource("startBg","image")}},model:{value:t.startData.startBg.image.show,callback:function(e){t.$set(t.startData.startBg.image,"show",e)},expression:"startData.startBg.image.show"}},[t._v("图片")])],1),t._v(" "),a("div",{staticClass:"upload"},[a("div",{staticClass:"img-box"},[a("img",{attrs:{src:t.resourceData[t.startData.startBg.image.name],alt:"",width:"131",height:"96"},on:{click:function(e){t.showBigImage(e)}}})]),t._v(" "),a("div",{staticClass:"upload-btn"},[a("div",{staticClass:"upload-btn-file"},[a("span",[t._v("更改图片")]),t._v(" "),a("input",{attrs:{type:"file"},on:{change:function(e){t.uploadImage("startBg","image",e)}}})])])]),t._v(" "),a("div",{staticClass:"edit-checkbox-title"},[a("el-checkbox",{attrs:{size:"small"},on:{change:function(e){t.setResource("startBg","sprite")}},model:{value:t.startData.startBg.sprite.show,callback:function(e){t.$set(t.startData.startBg.sprite,"show",e)},expression:"startData.startBg.sprite.show"}},[t._v("精灵序列图")])],1),t._v(" "),a("div",{staticClass:"upload"},[a("span",{staticClass:"file-title"},[t._v("\n                    精灵文件：\n                ")]),t._v(" "),a("div",{staticClass:"animate-box"},[a("span",{domProps:{textContent:t._s(t.startData.startBg.sprite.name)}})]),t._v(" "),a("div",{staticClass:"upload-btn"},[a("div",{staticClass:"upload-btn-file"},[a("span",[t._v("更改文件")]),t._v(" "),a("input",{attrs:{type:"file",multiple:"multiple"},on:{change:function(e){t.uploadSprite("startBg",e)}}})])])]),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.startData.startBg.sprite.x,callback:function(e){t.$set(t.startData.startBg.sprite,"x",e)},expression:"startData.startBg.sprite.x"}},[a("template",{slot:"prepend"},[t._v("X：")])],2),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.startData.startBg.sprite.y,callback:function(e){t.$set(t.startData.startBg.sprite,"y",e)},expression:"startData.startBg.sprite.y"}},[a("template",{slot:"prepend"},[t._v("Y：")])],2),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.startData.startBg.sprite.scale,callback:function(e){t.$set(t.startData.startBg.sprite,"scale",e)},expression:"startData.startBg.sprite.scale"}},[a("template",{slot:"prepend"},[t._v("Scale：")])],2),t._v(" "),a("div",{staticClass:"edit-switch"},[a("span",[t._v("loop")]),t._v(" "),a("el-switch",{attrs:{"active-color":"#77DC04","inactive-color":"#ff4949"},model:{value:t.startData.startBg.sprite.loop,callback:function(e){t.$set(t.startData.startBg.sprite,"loop",e)},expression:"startData.startBg.sprite.loop"}})],1),t._v(" "),a("div",{staticClass:"edit-checkbox-title"},[a("el-checkbox",{attrs:{size:"small"},on:{change:function(e){t.setResource("startBg","animate")}},model:{value:t.startData.startBg.animate.show,callback:function(e){t.$set(t.startData.startBg.animate,"show",e)},expression:"startData.startBg.animate.show"}},[t._v("动画")])],1),t._v(" "),a("div",{staticClass:"upload"},[a("span",{staticClass:"file-title"},[t._v("动画文件：")]),t._v(" "),a("div",{staticClass:"animate-box"},[a("span",{domProps:{textContent:t._s(t.startData.startBg.animate.name)}})]),t._v(" "),a("div",{staticClass:"upload-btn"},[a("div",{staticClass:"upload-btn-file"},[a("span",[t._v("更改文件")]),t._v(" "),a("input",{attrs:{type:"file",multiple:"multiple"},on:{change:function(e){t.uploadAnimation("startBg",e)}}})])])]),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.startData.startBg.animate.x,callback:function(e){t.$set(t.startData.startBg.animate,"x",e)},expression:"startData.startBg.animate.x"}},[a("template",{slot:"prepend"},[t._v("X：")])],2),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.startData.startBg.animate.y,callback:function(e){t.$set(t.startData.startBg.animate,"y",e)},expression:"startData.startBg.animate.y"}},[a("template",{slot:"prepend"},[t._v("Y：")])],2),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.startData.startBg.animate.scale,callback:function(e){t.$set(t.startData.startBg.animate,"scale",e)},expression:"startData.startBg.animate.scale"}},[a("template",{slot:"prepend"},[t._v("Scale：")])],2),t._v(" "),a("div",{staticClass:"edit-switch"},[a("span",[t._v("loop")]),t._v(" "),a("el-switch",{attrs:{"active-color":"#77DC04","inactive-color":"#ff4949"},model:{value:t.startData.startBg.animate.loop,callback:function(e){t.$set(t.startData.startBg.animate,"loop",e)},expression:"startData.startBg.animate.loop"}})],1)],1):t._e(),t._v(" "),a("div",{staticClass:"start-title"},[a("i",{ref:"startBtnTitle",class:t.tabShowStatus.startBtn?"el-icon-arrow-down":"el-icon-arrow-right",on:{click:function(e){t.tabShow("startBtn","startBtnTitle")}}}),t._v(" "),a("span",{on:{click:function(e){t.tabShow("startBtn","startBtnTitle")}}},[t._v("\n                开始按钮\n            ")])]),t._v(" "),t.tabShowStatus.startBtn?a("div",{staticClass:"start-inner"},[a("div",{staticClass:"edit-radio-title"},[a("el-radio",{attrs:{label:"1"},on:{change:function(e){t.startBtn("image")}},model:{value:t.label,callback:function(e){t.label=e},expression:"label"}},[t._v("图片")]),t._v(" "),a("el-radio",{attrs:{label:"2"},on:{change:function(e){t.startBtn("animate")}},model:{value:t.label,callback:function(e){t.label=e},expression:"label"}},[t._v("动画")]),t._v(" "),a("el-radio",{attrs:{label:"3"},on:{change:function(e){t.startBtn("sprite")}},model:{value:t.label,callback:function(e){t.label=e},expression:"label"}},[t._v("精灵序列")])],1),t._v(" "),"1"===t.label?a("div",[a("div",{staticClass:"upload"},[a("div",{staticClass:"img-box"},[a("img",{attrs:{src:t.resourceData[t.startData.startBtn.image.name],alt:"",width:"131",height:"96"},on:{click:function(e){t.showBigImage(e)}}})]),t._v(" "),a("div",{staticClass:"upload-btn"},[a("div",{staticClass:"upload-btn-file"},[a("span",[t._v("更改图片")]),t._v(" "),a("input",{attrs:{type:"file"},on:{change:function(e){t.uploadImage("startBtn","image",e)}}})])])]),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.startData.startBtn.image.x,callback:function(e){t.$set(t.startData.startBtn.image,"x",e)},expression:"startData.startBtn.image.x"}},[a("template",{slot:"prepend"},[t._v("X：")])],2),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.startData.startBtn.image.y,callback:function(e){t.$set(t.startData.startBtn.image,"y",e)},expression:"startData.startBtn.image.y"}},[a("template",{slot:"prepend"},[t._v("Y：")])],2),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.startData.startBtn.image.width,callback:function(e){t.$set(t.startData.startBtn.image,"width",e)},expression:"startData.startBtn.image.width"}},[a("template",{slot:"prepend"},[t._v("W：")])],2),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.startData.startBtn.image.height,callback:function(e){t.$set(t.startData.startBtn.image,"height",e)},expression:"startData.startBtn.image.height"}},[a("template",{slot:"prepend"},[t._v("H：")])],2)],1):t._e(),t._v(" "),"2"===t.label?a("div",[a("div",{staticClass:"upload"},[a("span",{staticClass:"file-title"},[t._v("动画文件：")]),t._v(" "),a("div",{staticClass:"animate-box"},[a("span",{domProps:{textContent:t._s(t.startData.startBtn.animate.name)}})]),t._v(" "),a("div",{staticClass:"upload-btn"},[a("div",{staticClass:"upload-btn-file"},[a("span",[t._v("更改文件")]),t._v(" "),a("input",{attrs:{type:"file",multiple:"multiple"},on:{change:function(e){t.uploadAnimation("startBtn",e)}}})])])]),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.startData.startBtn.animate.x,callback:function(e){t.$set(t.startData.startBtn.animate,"x",e)},expression:"startData.startBtn.animate.x"}},[a("template",{slot:"prepend"},[t._v("X：")])],2),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.startData.startBtn.animate.y,callback:function(e){t.$set(t.startData.startBtn.animate,"y",e)},expression:"startData.startBtn.animate.y"}},[a("template",{slot:"prepend"},[t._v("Y：")])],2),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.startData.startBtn.animate.scale,callback:function(e){t.$set(t.startData.startBtn.animate,"scale",e)},expression:"startData.startBtn.animate.scale"}},[a("template",{slot:"prepend"},[t._v("Scale：")])],2),t._v(" "),a("div",{staticClass:"edit-switch"},[a("span",[t._v("loop")]),t._v(" "),a("el-switch",{attrs:{"active-color":"#77DC04","inactive-color":"#ff4949"},model:{value:t.startData.startBtn.animate.loop,callback:function(e){t.$set(t.startData.startBtn.animate,"loop",e)},expression:"startData.startBtn.animate.loop"}})],1)],1):t._e(),t._v(" "),"3"===t.label?a("div",[a("div",{staticClass:"upload"},[a("span",{staticClass:"file-title"},[t._v("\n                        精灵文件：\n                    ")]),t._v(" "),a("div",{staticClass:"animate-box"},[a("span",{domProps:{textContent:t._s(t.startData.startBtn.sprite.name)}})]),t._v(" "),a("div",{staticClass:"upload-btn"},[a("div",{staticClass:"upload-btn-file"},[a("span",[t._v("更改文件")]),t._v(" "),a("input",{attrs:{type:"file",multiple:"multiple"},on:{change:function(e){t.uploadSprite("startBtn",e)}}})])])]),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.startData.startBtn.sprite.x,callback:function(e){t.$set(t.startData.startBtn.sprite,"x",e)},expression:"startData.startBtn.sprite.x"}},[a("template",{slot:"prepend"},[t._v("X：")])],2),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.startData.startBtn.sprite.y,callback:function(e){t.$set(t.startData.startBtn.sprite,"y",e)},expression:"startData.startBtn.sprite.y"}},[a("template",{slot:"prepend"},[t._v("Y：")])],2),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.startData.startBtn.sprite.scale,callback:function(e){t.$set(t.startData.startBtn.sprite,"scale",e)},expression:"startData.startBtn.sprite.scale"}},[a("template",{slot:"prepend"},[t._v("Scale：")])],2),t._v(" "),a("div",{staticClass:"edit-switch"},[a("span",[t._v("loop")]),t._v(" "),a("el-switch",{attrs:{"active-color":"#77DC04","inactive-color":"#ff4949"},model:{value:t.startData.startBtn.sprite.loop,callback:function(e){t.$set(t.startData.startBtn.sprite,"loop",e)},expression:"startData.startBtn.sprite.loop"}})],1)],1):t._e()]):t._e(),t._v(" "),a("div",{staticClass:"start-title"},[a("i",{ref:"gameBgAudioTitle",class:t.tabShowStatus.gameBgAudio?"el-icon-arrow-down":"el-icon-arrow-right",on:{click:function(e){t.tabShow("gameBgAudio","gameBgAudioTitle")}}}),t._v(" "),a("span",{on:{click:function(e){t.tabShow("gameBgAudio","gameBgAudioTitle")}}},[t._v("\n                背景音乐\n            ")]),t._v(" "),a("el-switch",{staticClass:"edit-title-switch",attrs:{"active-color":"#77DC04","inactive-color":"#ff4949"},on:{change:function(e){t.setbgAudioStatus()}},model:{value:t.gameBgSoundData.show,callback:function(e){t.$set(t.gameBgSoundData,"show",e)},expression:"gameBgSoundData.show"}})],1),t._v(" "),t.tabShowStatus.gameBgAudio&&!0===t.gameBgSoundData.show?a("div",{staticClass:"start-inner"},[a("div",{staticClass:"bg-audio-title"},[t._v("\n                音频\n            ")]),t._v(" "),a("div",{staticClass:"bg-audio-inner"},[a("div",{staticClass:"upload"},[a("span",{staticClass:"file-title"},[t._v("音频文件：")]),t._v(" "),a("div",{staticClass:"animate-box"},[a("span",{domProps:{textContent:t._s(t.gameBgSoundData.audio)}})]),t._v(" "),a("div",{staticClass:"upload-btn"},[a("div",{staticClass:"upload-btn-file"},[a("span",[t._v("更改文件")]),t._v(" "),a("input",{attrs:{type:"file",multiple:"multiple"},on:{change:function(e){t.uploadAudio(e)}}})])])]),t._v(" "),a("div",{staticClass:"edit-range-audio"},[a("span",[t._v("音量：")]),t._v(" "),a("el-slider",{attrs:{min:Number(0),max:Number(1),step:Number(.1)},model:{value:t.gameBgSoundData.audioVolume,callback:function(e){t.$set(t.gameBgSoundData,"audioVolume",e)},expression:"gameBgSoundData.audioVolume"}})],1),t._v(" "),a("div",{staticClass:"edit-switch-audio"},[a("span",[t._v("loop")]),t._v(" "),a("el-switch",{attrs:{"active-color":"#77DC04","inactive-color":"#ff4949"},model:{value:t.gameBgSoundData.loop,callback:function(e){t.$set(t.gameBgSoundData,"loop",e)},expression:"gameBgSoundData.loop"}})],1)]),t._v(" "),a("div",{staticClass:"bg-audio-title"},[t._v("\n                图标动画\n            ")]),t._v(" "),a("div",{staticClass:"bg-audio-inner"},[a("div",{staticClass:"upload"},[a("span",{staticClass:"file-title"},[t._v("动画文件：")]),t._v(" "),a("div",{staticClass:"animate-box"},[a("span",{domProps:{textContent:t._s(t.gameBgSoundData.animate_name)}})]),t._v(" "),a("div",{staticClass:"upload-btn"},[a("div",{staticClass:"upload-btn-file"},[a("span",[t._v("更改文件")]),t._v(" "),a("input",{attrs:{type:"file",multiple:"multiple"},on:{change:function(e){t.uploadAnimation("gameBgAudio",e)}}})])])]),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.gameBgSoundData.x,callback:function(e){t.$set(t.gameBgSoundData,"x",e)},expression:"gameBgSoundData.x"}},[a("template",{slot:"prepend"},[t._v("X：")])],2),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.gameBgSoundData.y,callback:function(e){t.$set(t.gameBgSoundData,"y",e)},expression:"gameBgSoundData.y"}},[a("template",{slot:"prepend"},[t._v("Y：")])],2)],1)]):t._e()]):t._e(),t._v(" "),t.maskStatus?a("div",{staticClass:"mask",on:{click:function(e){t.maskStatus=!1}}},[a("img",{attrs:{src:t.publicImage,alt:""}})]):t._e()],1):t._e()},staticRenderFns:[]};var p=a("VU/8")(m,d,!1,function(t){a("q16+")},"data-v-aa4ffc7c",null).exports,h={name:"EditGamePublic",data:function(){return{fontFamily:[{label:"微软雅黑",value:"Microsoft YaHei"},{label:"宋体",value:"SimSun"},{label:"黑体",value:"SimHei"},{label:"方正粗圆",value:"FZCuYuan-M03S"},{label:"方正粗圆简",value:"FZZhunYuan-M02S"}],textAlign:[{label:"左对齐",value:"left"},{label:"右对齐",value:"right"},{label:"居中对齐",value:"center"},{label:"两端对齐",value:"justify"}]}},props:["gameData","resourceData","tabShowStatus","item","index"],methods:{setResource:function(t,e,a){"subTitle"===e?this.gameData[t][e].audioShow||(this.gameData[t][e].audio="",this.gameData[t][e].soundImg.animate_name=""):this.gameData[t][e][a].show||(this.gameData[t][e][a].name="")},tabShow:function(t,e){var a=this,s=this.$refs[e+"Title"];this.tabShowStatus[t].child[e]?(this.tabShowStatus[t].child[e]=!1,s.className="el-icon-arrow-right"):(i()(this.tabShowStatus[t].child).forEach(function(e,s){a.tabShowStatus[t].child[e]=!1}),this.tabShowStatus[t].child[e]=!0,s.className="el-icon-arrow-down")},setGoldTextFontStyle:function(t,e){this.gameData[e].subTitle.stem[t]=!this.gameData[e].subTitle.stem[t]},uploadImage:function(t,e,a){var s=this,i=a.target.files[0].name.split(".")[a.target.files[0].name.split(".").length-1];-1!==["jpg","png"].indexOf(i)?0!==a.target.files.length?this.$http.post("/uploadingImage",{image:a.target.files[0]},{headers:{"Content-Type":"multipart/form-data"}}).then(function(i){s.gameData[t][e].image.name=i.resourceName,"bgImage"!==e&&(s.gameData[t][e].image.width=i.width,s.gameData[t][e].image.height=i.height,s.gameData[t][e].image.x=0,s.gameData[t][e].image.y=0),a.target.value="",s.updateResourceData()}):this.$message({message:"上传文件个数不符合",type:"warning"}):this.$message({message:"上传类型不符",type:"error"})},uploadSprite:function(t,e,a){var s=this;if(0!==a.target.files.length&&2===a.target.files.length){var i={};r()(a.target.files).forEach(function(t,e){i["sprite"+(e+1)]=t}),console.log(i),this.$http.post("/uploadingSprite",i,{headers:{"Content-Type":"multipart/form-data"}}).then(function(i){a.target.value="",s.gameData[t][e].sprite.name=i.resourceName})}else this.$message({message:"上传文件个数不符合",type:"warning"})},uploadAudio:function(t,e){var a=this,s=e.target.files[0].name.split(".")[e.target.files[0].name.split(".").length-1];-1!==["mp3","wav"].indexOf(s)?0!==e.target.files.length?this.$http.post("/uploadingAudio",{audio:e.target.files[0]},{headers:{"Content-Type":"multipart/form-data"}}).then(function(s){a.gameData[t].subTitle.audio=s.resourceName,e.target.value=""}):this.$message({message:"上传文件个数不符合",type:"warning"}):this.$message({message:"上传类型不符",type:"error"})},uploadAnimation:function(t,e,a){var s=this;if(0!==a.target.files.length&&3===a.target.files.length){var i={};r()(a.target.files).forEach(function(t,e){i["animation"+(e+1)]=t}),this.$http.post("/uploadingAnimation",i,{headers:{"Content-Type":"multipart/form-data"}}).then(function(i){a.target.value="","soundImg"!==e?s.gameData[t][e].animate.name=i.resourceName:s.gameData[t].subTitle[e].animate_name=i.resourceName})}else this.$message({message:"上传文件个数不符合",type:"warning"})},updateResourceData:function(){this.$emit("updateResourceData")}}},g={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"game-title"},[a("i",{ref:"bgImageTitle",class:t.tabShowStatus[t.index].child.bgImage?"el-icon-arrow-down":"el-icon-arrow-right",on:{click:function(e){t.tabShow(t.index,"bgImage")}}}),t._v(" "),a("span",{on:{click:function(e){t.tabShow(t.index,"bgImage")}}},[t._v("\n        背景图\n    ")])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.tabShowStatus[t.index].child.bgImage,expression:"tabShowStatus[index].child.bgImage"}],staticClass:"game-inner"},[a("div",{staticClass:"edit-checkbox-title"},[a("el-checkbox",{attrs:{size:"small"},on:{change:function(e){t.setResource(t.index,"bgImage","image")}},model:{value:t.item.bgImage.image.show,callback:function(e){t.$set(t.item.bgImage.image,"show",e)},expression:"item.bgImage.image.show"}},[t._v("图片")])],1),t._v(" "),a("div",{staticClass:"upload"},[a("div",{staticClass:"img-box"},[a("img",{attrs:{src:t.resourceData[t.item.bgImage.image.name],alt:"",width:"131",height:"96"}})]),t._v(" "),a("div",{staticClass:"upload-btn"},[a("div",{staticClass:"upload-btn-file"},[a("span",[t._v("更改图片")]),t._v(" "),a("input",{attrs:{type:"file"},on:{change:function(e){t.uploadImage(t.index,"bgImage",e)}}})])])]),t._v(" "),a("div",{staticClass:"edit-checkbox-title"},[a("el-checkbox",{attrs:{size:"small"},on:{change:function(e){t.setResource(t.index,"bgImage","sprite")}},model:{value:t.item.bgImage.sprite.show,callback:function(e){t.$set(t.item.bgImage.sprite,"show",e)},expression:"item.bgImage.sprite.show"}},[t._v("精灵序列")])],1),t._v(" "),a("div",{staticClass:"upload"},[a("span",{staticClass:"file-title"},[t._v("\n                精灵文件：\n            ")]),t._v(" "),a("div",{staticClass:"animate-box"},[a("span",{domProps:{textContent:t._s(t.item.bgImage.sprite.name)}})]),t._v(" "),a("div",{staticClass:"upload-btn"},[a("div",{staticClass:"upload-btn-file"},[a("span",[t._v("更改文件")]),t._v(" "),a("input",{attrs:{type:"file",multiple:"multiple"},on:{change:function(e){t.uploadSprite(t.index,"bgImage",e)}}})])])]),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.item.bgImage.sprite.x,callback:function(e){t.$set(t.item.bgImage.sprite,"x",e)},expression:"item.bgImage.sprite.x"}},[a("template",{slot:"prepend"},[t._v("X：")])],2),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.item.bgImage.sprite.y,callback:function(e){t.$set(t.item.bgImage.sprite,"y",e)},expression:"item.bgImage.sprite.y"}},[a("template",{slot:"prepend"},[t._v("Y：")])],2),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.item.bgImage.sprite.scale,callback:function(e){t.$set(t.item.bgImage.sprite,"scale",e)},expression:"item.bgImage.sprite.scale"}},[a("template",{slot:"prepend"},[t._v("Scale：")])],2),t._v(" "),a("div",{staticClass:"edit-switch"},[a("span",[t._v("loop")]),t._v(" "),a("el-switch",{attrs:{"active-color":"#77DC04","inactive-color":"#ff4949"},model:{value:t.item.bgImage.sprite.loop,callback:function(e){t.$set(t.item.bgImage.sprite,"loop",e)},expression:"item.bgImage.sprite.loop"}})],1),t._v(" "),a("div",{staticClass:"edit-checkbox-title"},[a("el-checkbox",{attrs:{size:"small"},on:{change:function(e){t.setResource(t.index,"bgImage","animate")}},model:{value:t.item.bgImage.animate.show,callback:function(e){t.$set(t.item.bgImage.animate,"show",e)},expression:"item.bgImage.animate.show"}},[t._v("动画")])],1),t._v(" "),a("div",{staticClass:"upload"},[a("span",{staticClass:"file-title"},[t._v("动画文件：")]),t._v(" "),a("div",{staticClass:"animate-box"},[a("span",{domProps:{textContent:t._s(t.item.bgImage.animate.name)}})]),t._v(" "),a("div",{staticClass:"upload-btn"},[a("div",{staticClass:"upload-btn-file"},[a("span",[t._v("更改文件")]),t._v(" "),a("input",{attrs:{type:"file",multiple:"multiple"},on:{change:function(e){t.uploadAnimation(t.index,"bgImage",e)}}})])])]),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.item.bgImage.animate.x,callback:function(e){t.$set(t.item.bgImage.animate,"x",e)},expression:"item.bgImage.animate.x"}},[a("template",{slot:"prepend"},[t._v("X：")])],2),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.item.bgImage.animate.y,callback:function(e){t.$set(t.item.bgImage.animate,"y",e)},expression:"item.bgImage.animate.y"}},[a("template",{slot:"prepend"},[t._v("Y：")])],2),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.item.bgImage.animate.scale,callback:function(e){t.$set(t.item.bgImage.animate,"scale",e)},expression:"item.bgImage.animate.scale"}},[a("template",{slot:"prepend"},[t._v("Scale：")])],2),t._v(" "),a("div",{staticClass:"edit-switch"},[a("span",[t._v("loop")]),t._v(" "),a("el-switch",{attrs:{"active-color":"#77DC04","inactive-color":"#ff4949"},model:{value:t.item.bgImage.animate.loop,callback:function(e){t.$set(t.item.bgImage.animate,"loop",e)},expression:"item.bgImage.animate.loop"}})],1)],1),t._v(" "),a("div",{staticClass:"game-title"},[a("i",{ref:"stemImgTitle",class:t.tabShowStatus[t.index].child.stemImg?"el-icon-arrow-down":"el-icon-arrow-right",on:{click:function(e){t.tabShow(t.index,"stemImg")}}}),t._v(" "),a("span",{on:{click:function(e){t.tabShow(t.index,"stemImg")}}},[t._v("\n            题干\n        ")])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.tabShowStatus[t.index].child.stemImg,expression:"tabShowStatus[index].child.stemImg"}],staticClass:"game-inner"},[a("div",{staticClass:"edit-checkbox-title"},[a("el-checkbox",{attrs:{size:"small"},on:{change:function(e){t.setResource(t.index,"stemImg","image")}},model:{value:t.item.stemImg.image.show,callback:function(e){t.$set(t.item.stemImg.image,"show",e)},expression:"item.stemImg.image.show"}},[t._v("图片")])],1),t._v(" "),a("div",[a("div",{staticClass:"upload"},[a("div",{staticClass:"img-box"},[a("img",{attrs:{src:t.resourceData[t.item.stemImg.image.name],alt:"",width:"131",height:"96"}})]),t._v(" "),a("div",{staticClass:"upload-btn"},[a("div",{staticClass:"upload-btn-file"},[a("span",[t._v("更改图片")]),t._v(" "),a("input",{attrs:{type:"file"},on:{change:function(e){t.uploadImage(t.index,"stemImg",e)}}})])])]),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.item.stemImg.image.x,callback:function(e){t.$set(t.item.stemImg.image,"x",e)},expression:"item.stemImg.image.x"}},[a("template",{slot:"prepend"},[t._v("X：")])],2),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.item.stemImg.image.y,callback:function(e){t.$set(t.item.stemImg.image,"y",e)},expression:"item.stemImg.image.y"}},[a("template",{slot:"prepend"},[t._v("Y：")])],2),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.item.stemImg.image.width,callback:function(e){t.$set(t.item.stemImg.image,"width",e)},expression:"item.stemImg.image.width"}},[a("template",{slot:"prepend"},[t._v("W：")])],2),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.item.stemImg.image.height,callback:function(e){t.$set(t.item.stemImg.image,"height",e)},expression:"item.stemImg.image.height"}},[a("template",{slot:"prepend"},[t._v("H：")])],2)],1),t._v(" "),a("div",{staticClass:"edit-checkbox-title"},[a("el-checkbox",{attrs:{size:"small"},on:{change:function(e){t.setResource(t.index,"stemImg","sprite")}},model:{value:t.item.stemImg.sprite.show,callback:function(e){t.$set(t.item.stemImg.sprite,"show",e)},expression:"item.stemImg.sprite.show"}},[t._v("精灵序列")])],1),t._v(" "),a("div",[a("div",{staticClass:"upload"},[a("span",{staticClass:"file-title"},[t._v("\n                精灵文件：\n            ")]),t._v(" "),a("div",{staticClass:"animate-box"},[a("span",{domProps:{textContent:t._s(t.item.stemImg.sprite.name)}})]),t._v(" "),a("div",{staticClass:"upload-btn"},[a("div",{staticClass:"upload-btn-file"},[a("span",[t._v("更改文件")]),t._v(" "),a("input",{attrs:{type:"file",multiple:"multiple"},on:{change:function(e){t.uploadSprite(t.index,"stemImg",e)}}})])])]),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.item.stemImg.sprite.x,callback:function(e){t.$set(t.item.stemImg.sprite,"x",e)},expression:"item.stemImg.sprite.x"}},[a("template",{slot:"prepend"},[t._v("X：")])],2),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.item.stemImg.sprite.y,callback:function(e){t.$set(t.item.stemImg.sprite,"y",e)},expression:"item.stemImg.sprite.y"}},[a("template",{slot:"prepend"},[t._v("Y：")])],2),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.item.stemImg.sprite.scale,callback:function(e){t.$set(t.item.stemImg.sprite,"scale",e)},expression:"item.stemImg.sprite.scale"}},[a("template",{slot:"prepend"},[t._v("Scale：")])],2),t._v(" "),a("div",{staticClass:"edit-switch"},[a("span",[t._v("loop")]),t._v(" "),a("el-switch",{attrs:{"active-color":"#77DC04","inactive-color":"#ff4949"},model:{value:t.item.stemImg.sprite.loop,callback:function(e){t.$set(t.item.stemImg.sprite,"loop",e)},expression:"item.stemImg.sprite.loop"}})],1)],1),t._v(" "),a("div",{staticClass:"edit-checkbox-title"},[a("el-checkbox",{attrs:{size:"small"},on:{change:function(e){t.setResource(t.index,"stemImg","animate")}},model:{value:t.item.stemImg.animate.show,callback:function(e){t.$set(t.item.stemImg.animate,"show",e)},expression:"item.stemImg.animate.show"}},[t._v("动画")])],1),t._v(" "),a("div",[a("div",{staticClass:"upload"},[a("span",{staticClass:"file-title"},[t._v("动画文件：")]),t._v(" "),a("div",{staticClass:"animate-box"},[a("span",{domProps:{textContent:t._s(t.item.stemImg.animate.name)}})]),t._v(" "),a("div",{staticClass:"upload-btn"},[a("div",{staticClass:"upload-btn-file"},[a("span",[t._v("更改文件")]),t._v(" "),a("input",{attrs:{type:"file",multiple:"multiple"},on:{change:function(e){t.uploadAnimation(t.index,"stemImg",e)}}})])])]),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.item.stemImg.animate.x,callback:function(e){t.$set(t.item.stemImg.animate,"x",e)},expression:"item.stemImg.animate.x"}},[a("template",{slot:"prepend"},[t._v("X：")])],2),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.item.stemImg.animate.y,callback:function(e){t.$set(t.item.stemImg.animate,"y",e)},expression:"item.stemImg.animate.y"}},[a("template",{slot:"prepend"},[t._v("Y：")])],2),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.item.stemImg.animate.scale,callback:function(e){t.$set(t.item.stemImg.animate,"scale",e)},expression:"item.stemImg.animate.scale"}},[a("template",{slot:"prepend"},[t._v("Scale：")])],2),t._v(" "),a("div",{staticClass:"edit-switch"},[a("span",[t._v("loop")]),t._v(" "),a("el-switch",{attrs:{"active-color":"#77DC04","inactive-color":"#ff4949"},model:{value:t.item.stemImg.animate.loop,callback:function(e){t.$set(t.item.stemImg.animate,"loop",e)},expression:"item.stemImg.animate.loop"}})],1)],1),t._v(" "),a("div",{staticClass:"edit-checkbox-title"},[a("el-checkbox",{attrs:{size:"small"},on:{change:function(e){t.setResource(t.index,"subTitle","audio")}},model:{value:t.item.subTitle.audioShow,callback:function(e){t.$set(t.item.subTitle,"audioShow",e)},expression:"item.subTitle.audioShow"}},[t._v("音频")])],1),t._v(" "),a("div",[a("div",{staticClass:"upload"},[a("span",{staticClass:"file-title"},[t._v("音频文件：")]),t._v(" "),a("div",{staticClass:"animate-box"},[a("span",{domProps:{textContent:t._s(t.item.subTitle.audio)}})]),t._v(" "),a("div",{staticClass:"upload-btn"},[a("div",{staticClass:"upload-btn-file"},[a("span",[t._v("更改文件")]),t._v(" "),a("input",{attrs:{type:"file"},on:{change:function(e){t.uploadAudio(t.index,e)}}})])])]),t._v(" "),a("div",{staticClass:"edit-range-audio"},[a("span",[t._v("音量：")]),t._v(" "),a("el-slider",{attrs:{min:Number(0),max:Number(1),step:Number(.1)},model:{value:t.item.subTitle.audio_volume,callback:function(e){t.$set(t.item.subTitle,"audio_volume",e)},expression:"item.subTitle.audio_volume"}})],1),t._v(" "),a("div",{staticClass:"upload"},[a("span",{staticClass:"file-title"},[t._v("图标动画")]),t._v(" "),a("div",{staticClass:"animate-box"},[a("span",{domProps:{textContent:t._s(t.item.subTitle.soundImg.animate_name)}})]),t._v(" "),a("div",{staticClass:"upload-btn"},[a("div",{staticClass:"upload-btn-file"},[a("span",[t._v("更改文件")]),t._v(" "),a("input",{attrs:{type:"file",multiple:"multiple"},on:{change:function(e){t.uploadAnimation(t.index,"soundImg",e)}}})])])]),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.item.subTitle.soundImg.x,callback:function(e){t.$set(t.item.subTitle.soundImg,"x",e)},expression:"item.subTitle.soundImg.x"}},[a("template",{slot:"prepend"},[t._v("X：")])],2),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.item.subTitle.soundImg.y,callback:function(e){t.$set(t.item.subTitle.soundImg,"y",e)},expression:"item.subTitle.soundImg.y"}},[a("template",{slot:"prepend"},[t._v("Y：")])],2)],1),t._v(" "),a("div",{staticClass:"edit-checkbox-title"},[a("el-checkbox",{attrs:{size:"small"},model:{value:t.item.subTitle.stem.show,callback:function(e){t.$set(t.item.subTitle.stem,"show",e)},expression:"item.subTitle.stem.show"}},[t._v("题干文字")])],1),t._v(" "),a("div",[a("div",{staticClass:"edit-textarea"},[a("span",[t._v("内容：")]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.item.subTitle.stem.text,expression:"item.subTitle.stem.text"}],attrs:{name:"",id:"",cols:"30",rows:"10",placeholder:"请输入文字"},domProps:{value:t.item.subTitle.stem.text},on:{input:function(e){e.target.composing||t.$set(t.item.subTitle.stem,"text",e.target.value)}}})]),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.item.subTitle.stem.width,callback:function(e){t.$set(t.item.subTitle.stem,"width",e)},expression:"item.subTitle.stem.width"}},[a("template",{slot:"prepend"},[t._v("段落宽度：")])],2),t._v(" "),a("div",{staticClass:"edit-select"},[a("span",[t._v("字体：")]),t._v(" "),a("el-select",{attrs:{placeholder:"请选择",size:"mini"},model:{value:t.item.subTitle.stem.fontFamily,callback:function(e){t.$set(t.item.subTitle.stem,"fontFamily",e)},expression:"item.subTitle.stem.fontFamily"}},t._l(t.fontFamily,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.item.subTitle.stem.fontSize,callback:function(e){t.$set(t.item.subTitle.stem,"fontSize",e)},expression:"item.subTitle.stem.fontSize"}},[a("template",{slot:"prepend"},[t._v("字号：")])],2),t._v(" "),a("div",{staticClass:"edit-select"},[a("span",[t._v("对齐：")]),t._v(" "),a("el-select",{attrs:{placeholder:"请选择",size:"mini"},model:{value:t.item.subTitle.stem.textAlign,callback:function(e){t.$set(t.item.subTitle.stem,"textAlign",e)},expression:"item.subTitle.stem.textAlign"}},t._l(t.textAlign,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.item.subTitle.stem.letterSpacing,callback:function(e){t.$set(t.item.subTitle.stem,"letterSpacing",e)},expression:"item.subTitle.stem.letterSpacing"}},[a("template",{slot:"prepend"},[t._v("字间距：")])],2),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.item.subTitle.stem.lineHeight,callback:function(e){t.$set(t.item.subTitle.stem,"lineHeight",e)},expression:"item.subTitle.stem.lineHeight"}},[a("template",{slot:"prepend"},[t._v("行间距：")])],2),t._v(" "),a("div",{staticClass:"edit-select"},[a("span",[t._v("颜色：")]),t._v(" "),a("el-color-picker",{model:{value:t.item.subTitle.stem.color,callback:function(e){t.$set(t.item.subTitle.stem,"color",e)},expression:"item.subTitle.stem.color"}})],1),t._v(" "),a("div",{staticClass:"font-style"},[a("span",{class:t.item.subTitle.stem.strong?"font-style-color":"",on:{click:function(e){t.setGoldTextFontStyle("strong",t.index)}}},[t._v("B\n            ")]),t._v(" "),a("span",{class:t.item.subTitle.stem.italic?"font-style-color":"",on:{click:function(e){t.setGoldTextFontStyle("italic",t.index)}}},[t._v("I\n            ")])]),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.item.subTitle.stem.x,callback:function(e){t.$set(t.item.subTitle.stem,"x",e)},expression:"item.subTitle.stem.x"}},[a("template",{slot:"prepend"},[t._v("X：")])],2),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.item.subTitle.stem.y,callback:function(e){t.$set(t.item.subTitle.stem,"y",e)},expression:"item.subTitle.stem.y"}},[a("template",{slot:"prepend"},[t._v("Y：")])],2)],1),t._v(" "),a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.item.subTitle.top,callback:function(e){t.$set(t.item.subTitle,"top",e)},expression:"item.subTitle.top"}},[a("template",{slot:"prepend"},[t._v("Top：")])],2)],1)])},staticRenderFns:[]};var v={name:"EditGamePrivate",data:function(){return{label:"1",testData:{switch:!0,animateName:"animateName",audioName:"audioName",spriteName:"spriteName",input:111,select:16,checked:!0,fontSize:[{label:"16px",value:16},{label:"18px",value:18},{label:"20px",value:20},{label:"22px",value:22},{label:"24px",value:24},{label:"26px",value:26},{label:"30px",value:30},{label:"40px",value:40},{label:"50px",value:50}]}}},props:["gameData","resourceData","item","index","tabShowStatus"],mounted:function(){},methods:{tabShow:function(t,e){var a=this.$refs[e+"Title"];if("one"!==e){var s=this.tabShowStatus[t].child[e];s?(this.tabShowStatus[t].child[e]=!1,a.className="el-icon-arrow-right"):(this.tabShowStatus[t].child[e]=!0,a.className="el-icon-arrow-down"),console.log(s,"nameTab")}},updateResourceData:function(){this.$emit("updateResourceData")},uploadImage:function(t,e,a){var s=this;0!==a.target.files.length?this.$http.post("/uploadingImage",{image:a.target.files[0]},{headers:{"Content-Type":"multipart/form-data"}}).then(function(a){s.gameData[t][e].image.image_name=a.resourceName,s.updateResourceData()}):this.$message({message:"上传文件个数不符合",type:"warning"})},uploadAudio:function(t,e,a){var s=this;0!==a.target.files.length?this.$http.post("/uploadingAudio",{audio:a.target.files[0]},{headers:{"Content-Type":"multipart/form-data"}}).then(function(a){s.gameData[t][e].audio_name=a.resourceName}):this.$message({message:"上传文件个数不符合",type:"warning"})},uploadAnimation:function(t,e,a){var s=this;if(0!==a.target.files.length){var i={};r()(a.target.files).forEach(function(t,e){i["animation"+(e+1)]=t}),this.$http.post("/uploadingAnimation",i,{headers:{"Content-Type":"multipart/form-data"}}).then(function(a){s.gameData[t][e].animate.animate_name=a.resourceName})}else this.$message({message:"上传文件个数不符合",type:"warning"})},uploadSprite:function(t,e,a){if(0!==a.target.files.length&&2===a.target.files.length){var s={};r()(a.target.files).forEach(function(t,e){s["sprite"+(e+1)]=t}),console.log(s),this.$http.post("/uploadingSprite",s,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){a.target.value=""})}else this.$message({message:"上传文件个数不符合",type:"warning"})},changeArr:function(t,e){var a=this;if("add"===t){var s=JSON.parse(u()(this.gameData[0]));!function t(e){r()(e).forEach(function(a,s){"object"===(void 0===a?"undefined":o()(a))?t(a):"boolean"==typeof a?e[i()(e)[s]]=!1:"string"==typeof a?e[i()(e)[s]]="":"number"==typeof a&&(e[i()(e)[s]]=0)})}(s),this.gameData.push(s),this.tabShowStatus.push({show:!1,child:JSON.parse(u()(this.tabShowLists))})}else"copy"===t?(this.gameData.push(JSON.parse(u()(this.gameData[e]))),this.tabShowStatus.push({show:!1,child:JSON.parse(u()(this.tabShowLists))})):"del"===t&&this.gameData.length>1&&this.$confirm("此操作将删除选项, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.gameData.splice(e,1),a.tabShowStatus.splice(e,1),a.$message({type:"success",message:"删除成功!"})}).catch(function(){a.$message({type:"info",message:"已取消"})})}}},f={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"game-title"},[a("i",{ref:"optionTitle",class:t.tabShowStatus[t.index].child.option?"el-icon-arrow-down":"el-icon-arrow-right",on:{click:function(e){t.tabShow(t.index,"option")}}}),t._v(" "),a("span",{on:{click:function(e){t.tabShow(t.index,"option")}}},[t._v("\n        自定义配置项\n    ")])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.tabShowStatus[t.index].child.option,expression:"tabShowStatus[index].child.option"}],staticClass:"game-inner"},[a("el-checkbox",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{size:"small"},model:{value:t.item.audio.show,callback:function(e){t.$set(t.item.audio,"show",e)},expression:"item.audio.show"}},[t._v("音频文件")]),t._v(" "),a("div",{staticClass:"upload",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"animate-box"},[a("span",{domProps:{textContent:t._s(t.item.audio.audio_name)}})]),t._v(" "),a("div",{staticClass:"upload-btn"},[a("div",{staticClass:"upload-btn-file"},[a("span",[t._v("更改文件")]),t._v(" "),a("input",{attrs:{type:"file",multiple:"multiple"},on:{change:function(e){t.uploadAudio(t.index,"audio",e)}}})])])]),t._v(" "),a("el-input",{attrs:{placeholder:"测试的字母",size:"medium"},model:{value:t.item.letters.text,callback:function(e){t.$set(t.item.letters,"text",e)},expression:"item.letters.text"}},[a("template",{slot:"prepend"},[t._v("要查看的字母（大写或小写）：")])],2),t._v(" "),a("span",{staticStyle:{color:"#fff"}},[t._v("A,a,B,b,C,c,D,d")])],1)])},staticRenderFns:[]};var b={name:"EditGame",data:function(){return{gameData:null,showStatus:!1,tabShowStatus:[],resourceData:null,tabShowLists:{bgImage:!1,stemImg:!1,subTitle:!1,option:!1,option1:!1,option2:!1,option3:!1,option4:!1,option5:!1,option6:!1,option7:!1,option8:!1,option9:!1,option10:!1}}},props:["allData"],methods:{getJSON:function(){var t=this;this.getResourceData(function(){t.showStatus=!0}),this.gameData=this.allData.sources,this.tabShowStatus=[],this.gameData.forEach(function(e,a){t.tabShowStatus.push({show:!1,child:JSON.parse(u()(t.tabShowLists))})})},getResourceData:function(t){var e=this;this.$http.get("/getResourceJSON",{params:{}}).then(function(a){e.resourceData=a,t&&t()})},changeArr:function(t,e){var a=this;if("add"===t){var s=JSON.parse(u()(this.gameData[0]));!function t(e){r()(e).forEach(function(a,s){"object"===(void 0===a?"undefined":o()(a))?t(a):"boolean"==typeof a?e[i()(e)[s]]=!1:"string"==typeof a?e[i()(e)[s]]="":"number"==typeof a&&(e[i()(e)[s]]=0)})}(s),this.gameData.push(s),this.tabShowStatus.push({show:!1,child:JSON.parse(u()(this.tabShowLists))})}else"copy"===t?(this.gameData.push(JSON.parse(u()(this.gameData[e]))),this.tabShowStatus.push({show:!1,child:JSON.parse(u()(this.tabShowLists))})):"del"===t&&this.gameData.length>1&&this.$confirm("此操作将删除选项, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.gameData.splice(e,1),a.tabShowStatus.splice(e,1),a.$message({type:"success",message:"删除成功!"})}).catch(function(){a.$message({type:"info",message:"已取消"})})},tabShow:function(t,e){var a=this,s=this.$refs[e+"Title"],n=this.tabShowStatus[t].show;i()(this.tabShowStatus[t].child).forEach(function(e,s){a.tabShowStatus[t].child[e]=!1}),n?(this.tabShowStatus[t].show=!1,s.className="el-icon-arrow-right"):(this.tabShowStatus.forEach(function(t,e){a.tabShowStatus[e].show=!1}),this.tabShowStatus[t].show=!0,s.className="el-icon-arrow-down")},updateResourceData:function(){this.getResourceData()}},mounted:function(){this.getJSON()},components:{EditGamePublic:a("VU/8")(h,g,!1,function(t){a("4qCY")},"data-v-ba485bb0",null).exports,EditGamePrivate:a("VU/8")(v,f,!1,function(t){a("eIeZ")},"data-v-7141aa46",null).exports}},_={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.showStatus?a("div",{staticClass:"game"},t._l(t.gameData,function(e,s){return a("div",[a("div",{staticClass:"game-title",staticStyle:{background:"#383838","padding-left":"8px"}},[a("i",{ref:"oneTitle",refInFor:!0,class:t.tabShowStatus[s].show?"el-icon-arrow-down":"el-icon-arrow-right",on:{click:function(e){t.tabShow(s,"one")}}}),t._v(" "),a("span",{on:{click:function(e){t.tabShow(s,"one")}}},[t._v("\n            内容页"+t._s(s+1)+"\n        ")]),t._v(" "),a("i",{staticClass:"game-title-icon el-icon-delete",on:{click:function(e){t.changeArr("del",s)}}}),t._v(" "),a("i",{staticClass:"game-title-icon el-icon-tickets",on:{click:function(e){t.changeArr("copy",s)}}}),t._v(" "),a("i",{staticClass:"game-title-icon el-icon-plus",on:{click:function(e){t.changeArr("add",s)}}})]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.tabShowStatus[s].show,expression:"tabShowStatus[index].show"}]},[a("EditGamePublic",{attrs:{gameData:t.gameData,item:e,index:s,resourceData:t.resourceData,tabShowStatus:t.tabShowStatus},on:{updateResourceData:t.updateResourceData}}),t._v(" "),a("EditGamePrivate",{attrs:{gameData:t.gameData,item:e,index:s,resourceData:t.resourceData,tabShowStatus:t.tabShowStatus,tabShowLists:t.tabShowLists},on:{updateResourceData:t.updateResourceData}})],1)])})):t._e()},staticRenderFns:[]};var w=a("VU/8")(b,_,!1,function(t){a("CoWf")},null,null).exports,x={name:"EditEnd",data:function(){return{time:0,label:"1",endData:null,showStatus:!1,tabShowStatus:{endBg:!1,goldNum:!1},fontFamily:[{label:"微软雅黑",value:"Microsoft YaHei"},{label:"宋体",value:"SimSun"},{label:"黑体",value:"SimHei"},{label:"方正粗圆",value:"FZCuYuan-M03S"},{label:"方正粗圆简",value:"FZZhunYuan-M02S"}],resourceData:null}},props:["allData"],methods:{setGoldTextFontStyle:function(t){this.endData.goldText[t]=!this.endData.goldText[t],this.endData.goldText[t]?this.endData.goldText.fontWeight="bold":this.endData.goldText.fontWeight="normal","italic"==t&&(this.endData.goldText[t]?this.endData.goldText.fontStyle="italic":this.endData.goldText.fontStyle="")},setResource:function(t,e){this.endData[t][e].show||(this.endData[t][e].name="")},tabShow:function(t,e){var a=this;this.$refs[e];this.tabShowStatus[t]?this.tabShowStatus[t]=!1:(i()(this.tabShowStatus).forEach(function(t,e){a.tabShowStatus[t]=!1}),this.tabShowStatus[t]=!0)},getJSON:function(){var t=this;this.endData=this.allData.one.end,this.getResourceData(function(){t.showStatus=!0})},getResourceData:function(t){var e=this;this.$http.get("/getResourceJSON",{params:{}}).then(function(a){e.resourceData=a,t&&t()})},uploadAnimation:function(t){var e=this;if(0!==t.target.files.length&&3===t.target.files.length){var a={};r()(t.target.files).forEach(function(t,e){a["animation"+(e+1)]=t}),this.$http.post("/uploadingAnimation",a,{headers:{"Content-Type":"multipart/form-data"}}).then(function(a){t.target.value="",e.endData.endBg.animate.name=a.resourceName})}else this.$message({message:"上传文件个数不符合",type:"warning"})},uploadImage:function(t){var e=this,a=t.target.files[0].name.split(".")[t.target.files[0].name.split(".").length-1];-1!==["jpg","png"].indexOf(a)?0!==t.target.files.length?this.$http.post("/uploadingImage",{image:t.target.files[0]},{headers:{"Content-Type":"multipart/form-data"}}).then(function(a){t.target.value="",e.endData.endBg.image.name=a.resourceName,e.endData.endBg.image.width=a.width,e.endData.endBg.image.height=a.height,e.endData.endBg.image.x=0,e.endData.endBg.image.y=0,e.getResourceData()}):this.$message({message:"上传文件个数不符合",type:"warning"}):this.$message({message:"上传类型不符",type:"error"})}},mounted:function(){this.getJSON()}},S={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.showStatus?a("div",{staticClass:"end"},[a("div",{staticClass:"end-time"},[a("el-input",{staticStyle:{width:"100%","margin-top":"0"},attrs:{placeholder:"",size:"mini"},model:{value:t.endData.jumpResultTime,callback:function(e){t.$set(t.endData,"jumpResultTime",e)},expression:"endData.jumpResultTime"}},[a("template",{slot:"prepend"},[t._v("最后一题停留时间")]),t._v(" "),a("template",{slot:"append"},[t._v("ms")])],2)],1),t._v(" "),a("div",{staticClass:"end-title"},[a("i",{ref:"endBgTitle",class:t.tabShowStatus.endBg?"el-icon-arrow-down":"el-icon-arrow-right",on:{click:function(e){t.tabShow("endBg","endBgTitle")}}}),t._v(" "),a("span",{on:{click:function(e){t.tabShow("endBg","endBgTitle")}}},[t._v("\n            背景图\n        ")])]),t._v(" "),t.tabShowStatus.endBg?a("div",{staticClass:"end-inner"},[a("div",{staticClass:"edit-checkbox-title"},[a("el-checkbox",{attrs:{size:"small"},on:{change:function(e){t.setResource("endBg","image")}},model:{value:t.endData.endBg.image.show,callback:function(e){t.$set(t.endData.endBg.image,"show",e)},expression:"endData.endBg.image.show"}},[t._v("图片")])],1),t._v(" "),a("div",{staticClass:"upload"},[a("div",{staticClass:"img-box"},[a("img",{attrs:{src:t.resourceData[t.endData.endBg.image.name],alt:"",width:"131",height:"96"}})]),t._v(" "),a("div",{staticClass:"upload-btn"},[a("div",{staticClass:"upload-btn-file"},[a("span",[t._v("更改图片")]),t._v(" "),a("input",{attrs:{type:"file"},on:{change:function(e){t.uploadImage(e)}}})])])]),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.endData.endBg.image.x,callback:function(e){t.$set(t.endData.endBg.image,"x",e)},expression:"endData.endBg.image.x"}},[a("template",{slot:"prepend"},[t._v("X：")])],2),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.endData.endBg.image.y,callback:function(e){t.$set(t.endData.endBg.image,"y",e)},expression:"endData.endBg.image.y"}},[a("template",{slot:"prepend"},[t._v("Y：")])],2),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.endData.endBg.image.width,callback:function(e){t.$set(t.endData.endBg.image,"width",e)},expression:"endData.endBg.image.width"}},[a("template",{slot:"prepend"},[t._v("W：")])],2),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.endData.endBg.image.height,callback:function(e){t.$set(t.endData.endBg.image,"height",e)},expression:"endData.endBg.image.height"}},[a("template",{slot:"prepend"},[t._v("H：")])],2),t._v(" "),a("div",{staticClass:"edit-checkbox-title"},[a("el-checkbox",{attrs:{size:"small"},on:{change:function(e){t.setResource("endBg","animate")}},model:{value:t.endData.endBg.animate.show,callback:function(e){t.$set(t.endData.endBg.animate,"show",e)},expression:"endData.endBg.animate.show"}},[t._v("动画")])],1),t._v(" "),a("div",{staticClass:"upload"},[a("span",{staticClass:"file-title"},[t._v("\n                动画文件：\n            ")]),t._v(" "),a("div",{staticClass:"animate-box"},[a("span",{domProps:{textContent:t._s(t.endData.endBg.animate.name)}})]),t._v(" "),a("div",{staticClass:"upload-btn"},[a("div",{staticClass:"upload-btn-file"},[a("span",[t._v("更改文件")]),t._v(" "),a("input",{attrs:{type:"file",multiple:"multiple"},on:{change:function(e){t.uploadAnimation(e)}}})])])]),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.endData.endBg.animate.x,callback:function(e){t.$set(t.endData.endBg.animate,"x",e)},expression:"endData.endBg.animate.x"}},[a("template",{slot:"prepend"},[t._v("X：")])],2),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.endData.endBg.animate.y,callback:function(e){t.$set(t.endData.endBg.animate,"y",e)},expression:"endData.endBg.animate.y"}},[a("template",{slot:"prepend"},[t._v("Y：")])],2),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.endData.endBg.animate.scale,callback:function(e){t.$set(t.endData.endBg.animate,"scale",e)},expression:"endData.endBg.animate.scale"}},[a("template",{slot:"prepend"},[t._v("Scale：")])],2),t._v(" "),a("div",{staticClass:"edit-switch"},[a("span",[t._v("loop")]),t._v(" "),a("el-switch",{attrs:{"active-color":"#77DC04","inactive-color":"#ff4949"},model:{value:t.endData.endBg.animate.loop,callback:function(e){t.$set(t.endData.endBg.animate,"loop",e)},expression:"endData.endBg.animate.loop"}})],1)],1):t._e(),t._v(" "),a("div",{staticClass:"end-title"},[a("i",{ref:"goldNumTitle",class:t.tabShowStatus.goldNum?"el-icon-arrow-down":"el-icon-arrow-right",on:{click:function(e){t.tabShow("goldNum","goldNumTitle")}}}),t._v(" "),a("span",{on:{click:function(e){t.tabShow("goldNum","goldNumTitle")}}},[t._v("\n            金币文字\n        ")])]),t._v(" "),t.tabShowStatus.goldNum?a("div",{staticClass:"end-inner"},[a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.endData.goldText.x,callback:function(e){t.$set(t.endData.goldText,"x",e)},expression:"endData.goldText.x"}},[a("template",{slot:"prepend"},[t._v("X：")])],2),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.endData.goldText.y,callback:function(e){t.$set(t.endData.goldText,"y",e)},expression:"endData.goldText.y"}},[a("template",{slot:"prepend"},[t._v("Y：")])],2),t._v(" "),a("div",{staticClass:"edit-select"},[a("span",[t._v("字体：")]),t._v(" "),a("el-select",{attrs:{placeholder:"请选择",size:"mini"},model:{value:t.endData.goldText.fontFamily,callback:function(e){t.$set(t.endData.goldText,"fontFamily",e)},expression:"endData.goldText.fontFamily"}},t._l(t.fontFamily,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.endData.goldText.fontSize,callback:function(e){t.$set(t.endData.goldText,"fontSize",e)},expression:"endData.goldText.fontSize"}},[a("template",{slot:"prepend"},[t._v("字号：")])],2),t._v(" "),a("div",{staticClass:"edit-select"},[a("span",[t._v("颜色：")]),t._v(" "),a("el-color-picker",{model:{value:t.endData.goldText.color,callback:function(e){t.$set(t.endData.goldText,"color",e)},expression:"endData.goldText.color"}})],1),t._v(" "),a("div",{staticClass:"font-style"},[a("span",{class:t.endData.goldText.strong?"font-style-color":"",on:{click:function(e){t.setGoldTextFontStyle("strong")}}},[t._v("B")]),t._v(" "),a("span",{class:t.endData.goldText.italic?"font-style-color":"",on:{click:function(e){t.setGoldTextFontStyle("italic")}}},[t._v("I")])])],1):t._e()]):t._e()},staticRenderFns:[]};var D=a("VU/8")(x,S,!1,function(t){a("HjNh")},"data-v-a0b08540",null).exports,C=(a("E/U7"),a("7t+N")),y=a.n(C),I=a("7Q5p"),B=a.n(I),k=!0,T={name:"Edit",data:function(){return{allData:null,showStatus:!1,publicImg:"",maskStatus:!1,startData:null,activeName:"game",activeName1:"game1",modelName:B.a.title,version:B.a.version,label:"2",submitStatus:!1}},components:{start:p,game:w,end:D},methods:{reload:function(){location.reload(!0)},reloadIframe:function(){document.getElementById("iframeWindow").contentWindow.location.reload(!0)},changeType:function(){"1"===this.label?this.allData.interface=!0:this.allData.interface=!1},getJSON:function(){var t=this;this.$http.get("/getJSON",{params:{}}).then(function(e){t.allData=e,console.log(t.allData.interface),t.allData.interface?t.label="1":t.label="2",t.showStatus=!0})},writeJSON:function(){var t=this;if(k){k=!1;var e=JSON.parse(u()(this.allData.one.end));!function t(e){r()(e).forEach(function(a,s){"object"===(void 0===a?"undefined":o()(a))?t(a):"boolean"==typeof a?e[i()(e)[s]]=!1:"string"==typeof a?e[i()(e)[s]]="":"number"==typeof a&&(e[i()(e)[s]]=0)})}(e),"1"===this.label&&(this.allData.one.end=e,console.log(this.allData.one.end)),this.$http.post("/writeJSON",{dataList:u()(this.allData)}).then(function(e){t.submitStatus=!0,y()(".submitBtn").removeClass("submitActive"),setTimeout(function(){t.submitStatus=!1,k=!0,y()(".submitBtn").addClass("submitActive")},5e3),document.getElementById("iframeWindow").contentWindow.location.reload(!0)})}}},mounted:function(){this.getJSON(),y()("#submitButton").on("click",function(){if(window.store.state.pShow){console.log("新接口强制提交");y()(".iframe iframe")[0].contentWindow.postMessage({type:"getAnswer"},"*")}else{console.log("旧接口强制提交");y()(".iframe iframe")[0].contentWindow.postMessage({type:"resubmitAnswer"},"*")}}),window.addEventListener("message",function(t){if("onload"==t.data.type)console.log("onload接口");else if("submitAnswer"==t.data.type){for(var e=t.data.data.testAnswer,a=t.data.data.testNum,s=0,i=0,n=0;n<a;n++)if(void 0!=e[n]){var o=e[n],l=o.answer.length;"string"==typeof o.answer&&(l=1);var r=o.rightnum;o.isright&&0,0==r&&0==o.type&&(i++,r=0),r>0&&0==o.type&&(r=l),o.is_right=r==l?1:0,o.rate=r/l,s+=o.rate}var c=s/a,u={goldnum:i=(i+=Math.ceil(10*c))>10?10:i,result:t.data.data.testAnswer};console.log("newData"),console.log(u);var m={type:"answerResult",data:u};y()(".iframe iframe")[0].contentWindow.postMessage(m,"*")}else if("submitData"==t.data.type){y()(".iframe iframe")[0].contentWindow.postMessage({type:"resubmitAnswer"},"*")}else if("close"==t.data.type)y()(".iframe iframe").attr("src",""),y()(".submitData").hide();else if("answer"==t.data.type){var d={type:"answerTextResult",data:t.data.data};y()(".iframe iframe")[0].contentWindow.postMessage(d,"*")}});var t=void 0;t="http://localhost:8888/#/",document.getElementById("iframeWindow").src=t}},$={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("img",{attrs:{src:"static/images/reload.png",alt:"",id:"reload"},on:{click:function(e){t.reload()}}}),t._v(" "),t._m(0),t._v(" "),t.showStatus?a("div",{staticClass:"edit"},[a("header",[a("h1",{domProps:{textContent:t._s(t.modelName)}}),t._v(" "),a("p",{domProps:{textContent:t._s("版本号：v"+t.version)}})]),t._v(" "),a("div",{staticClass:"edit-tab"},[a("el-radio",{attrs:{label:"1"},on:{change:function(e){t.changeType()}},model:{value:t.label,callback:function(e){t.label=e},expression:"label"}},[t._v("课件平台組课")]),t._v(" "),a("el-radio",{attrs:{label:"2"},on:{change:function(e){t.changeType()}},model:{value:t.label,callback:function(e){t.label=e},expression:"label"}},[t._v("ftp組课")])],1),t._v(" "),"1"===t.label?a("el-tabs",{attrs:{type:"border-card",value:"内容页",stretch:!0},model:{value:t.activeName1,callback:function(e){t.activeName1=e},expression:"activeName1"}},[a("el-tab-pane",{attrs:{label:"开始页",name:"start1"}},["start1"===t.activeName1?a("start",{ref:"start1",attrs:{allData:t.allData},on:{reload:t.reloadIframe}}):t._e()],1),t._v(" "),a("el-tab-pane",{attrs:{label:"内容页",name:"game1"}},["game1"===t.activeName1?a("game",{ref:"game1",attrs:{allData:t.allData},on:{reload:t.reloadIframe}},[t._v(">\n\n                ")]):t._e()],1)],1):t._e(),t._v(" "),"2"===t.label?a("el-tabs",{attrs:{type:"border-card",value:"内容页",stretch:!0},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"开始页",name:"start"}},["start"===t.activeName?a("start",{ref:"start",attrs:{allData:t.allData},on:{reload:t.reloadIframe}}):t._e()],1),t._v(" "),a("el-tab-pane",{attrs:{label:"内容页",name:"game"}},["game"===t.activeName?a("game",{ref:"game",attrs:{allData:t.allData},on:{reload:t.reloadIframe}}):t._e()],1),t._v(" "),a("el-tab-pane",{attrs:{label:"结果页",name:"end"}},["end"===t.activeName?a("end",{ref:"end",attrs:{allData:t.allData},on:{reload:t.reloadIframe}}):t._e()],1)],1):t._e(),t._v(" "),a("div",{staticClass:"submit"},[a("el-button",{staticClass:"submitBtn submitActive",attrs:{type:"primary",disabled:t.submitStatus},on:{click:function(e){t.writeJSON()}}},[t._v("保存")])],1)],1):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"iframe"},[e("button",{attrs:{id:"submitButton"}},[this._v("强制提交")]),this._v(" "),e("iframe",{attrs:{src:"http://localhost:8080/#/",id:"iframeWindow",frameborder:"0"}})])}]};var P=a("VU/8")(T,$,!1,function(t){a("U0b2")},null,null);e.a=P.exports},deUr:function(t,e){},eIeZ:function(t,e){},"q16+":function(t,e){},"qx/3":function(t,e,a){"use strict";var s=a("50uv"),i=a("v460"),n=void 0,o={data:function(){return{time:3,question:question,resultUrl:void 0}},computed:{goldnum:function(t,e){return store.state.goldnum}},methods:{createApp:function(){return new s.Application({width:1920,height:1080,autoSize:!0,transparent:!0})}},mounted:function(){var t=this;if(question.one.end.endBg.image.show&&(this.resultUrl=res[question.one.end.endBg.image.name].url),question.one.end.endBg.animate.show){app.stop(),(n=this.createApp()).view.style.width="19.2rem",n.view.style.height="10.8rem",this.$refs.canvas.appendChild(n.view);var e=n.stage,a=Object(i.a)(question.one.end.endBg.animate.name);a.state.setAnimation(1,"animation",question.one.end.endBg.animate.loop);console.log(e),a.x=question.one.end.endBg.animate.x,a.y=question.one.end.endBg.animate.y,a.scale.set(question.one.gameBgSound.scale),e.addChild(a)}console.log("金币页+"+store.state.goldnum),this.fadeIn=!0,console.log(res[question.one.end.endBg.image.name]);var s=setInterval(function(){if(t.time--,0===t.time){clearInterval(s);window.parent.postMessage({type:"close"},"*")}},1e3)}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"result"},[a("div",[a("img",{staticClass:"bg",attrs:{src:"static/images/result.png",id:"bgImg"}}),t._v(" "),a("span",{staticClass:"txt",style:{color:t.question.one.end.goldText.color,left:t.question.one.end.goldText.x/100+"rem",top:t.question.one.end.goldText.y/100+"rem",fontSize:t.question.one.end.goldText.fontSize/100+"rem",fontFamily:t.question.one.end.goldText.fontFamily,fontWeight:t.question.one.end.goldText.fontWeight,fontStyle:t.question.one.end.goldText.fontStyle}},[t._v(t._s(t.goldnum))]),t._v(" "),t.question.one.end.endBg.image.show?a("img",{staticClass:"resimg",style:{left:t.question.one.end.endBg.image.x/100+"rem",top:t.question.one.end.endBg.image.y/100+"rem",width:t.question.one.end.endBg.image.width/100+"rem",height:t.question.one.end.endBg.image.height/100+"rem"},attrs:{src:t.resultUrl}}):t._e()]),t._v(" "),a("audio",{attrs:{autoplay:"autoplay",src:"static/audios/result.mp3"}}),t._v(" "),t.question.one.end.endBg.animate.show?a("div",{ref:"canvas",staticClass:"canvas"}):t._e()])},staticRenderFns:[]};var r=a("VU/8")(o,l,!1,function(t){a("6BMs")},"data-v-2e14e452",null);e.a=r.exports},tvR6:function(t,e){}},["NHnr"]);